---
#step 1:
  - name: User AGAMA
    ansible.builtin.user:
      name: agama
#step 2:   
  - name: Creates directory
    ansible.builtin.file:
      path: /opt/agama
      state: directory
      mode: '0755'
  
  - name: Ownership of directory
    ansible.builtin.file:
      path: /opt/agama
      state: directory
      recurse: yes
      owner: agama 
      
#step 3:
  #Done by accessing server via ssh ,not sure about it
  - name: Install python
    ansible.builtin.apt:
      name: python3-flask-sqlalchemy
      update_cache: yes
 
#step 3:
  #Done by accessing server via ssh ,not sure about it
  - name: Install application dependencies
    ansible.builtin.apt:
      update_cache: yes
      name: python-flask-sqlalchemy
 

 # error says that no file called flask-sqlalchemy
#step 4:
  - name: Installs agama.py
    ansible.builtin.get_url:
      url: https://raw.githubusercontent.com/hudolejev/agama/master/agama.py
      dest: /opt/agama/
      mode: '0440'
      
      
      
      
      
      